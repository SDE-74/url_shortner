# 🚀 Interview Preparation Guide
## URL Shortener Project - Full Stack Developer Position

### 📚 Table of Contents
1. [MongoDB](#mongodb)
2. [SQL & SQLite](#sql--sqlite)
3. [PostgreSQL](#postgresql)
4. [Redis](#redis)
5. [APIs](#apis)
6. [Python](#python)
7. [Project-Specific Questions](#project-specific-questions)
8. [Common Interview Questions](#common-interview-questions)

---

## 🍃 MongoDB

### Key Concepts to Master:

#### 1. **What is MongoDB?**
- **Answer**: MongoDB is a NoSQL, document-oriented database that stores data in flexible, JSON-like documents with dynamic schemas.
- **Key Features**: 
  - Document-based storage
  - Schema-less design
  - Horizontal scalability
  - Rich query language

#### 2. **MongoDB vs SQL Databases**
```
SQL Databases          | MongoDB
----------------------|------------------
Tables                | Collections
Rows                  | Documents
Columns               | Fields
Schema                | Schema-less
ACID Transactions     | BASE Properties
```

#### 3. **Important Interview Questions:**

**Q: What are the advantages of MongoDB over traditional RDBMS?**
**A**: 
- Schema flexibility
- Horizontal scalability
- Better performance for read-heavy workloads
- Native JSON support
- Easier to scale across multiple servers

**Q: Explain MongoDB's document structure**
**A**: MongoDB stores data in BSON (Binary JSON) format:
```json
{
  "_id": ObjectId("..."),
  "original_url": "https://example.com/very-long-url",
  "short_code": "abc123",
  "created_at": ISODate("2024-01-01"),
  "clicks": 0
}
```

**Q: What is ObjectId in MongoDB?**
**A**: ObjectId is a 12-byte unique identifier automatically generated by MongoDB:
- 4 bytes: timestamp
- 5 bytes: random value
- 3 bytes: incrementing counter

**Q: How do you create indexes in MongoDB?**
**A**: 
```javascript
// Single field index
db.collection.createIndex({ "field": 1 })

// Compound index
db.collection.createIndex({ "field1": 1, "field2": -1 })

// Unique index
db.collection.createIndex({ "email": 1 }, { unique: true })
```

---

## 🗄️ SQL & SQLite

### Key Concepts:

#### 1. **What is SQL?**
- **Answer**: SQL (Structured Query Language) is a standard language for managing and manipulating relational databases.

#### 2. **SQLite vs Other Databases**
```
SQLite              | MySQL/PostgreSQL
-------------------|------------------
File-based         | Client-Server
Single user        | Multi-user
Lightweight        | Full-featured
Embedded           | Standalone
```

#### 3. **Important Interview Questions:**

**Q: Write a SQL query to create a URL shortener table**
**A**: 
```sql
CREATE TABLE url_shortener (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    original_url TEXT NOT NULL,
    short_code VARCHAR(10) UNIQUE NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    clicks INTEGER DEFAULT 0
);
```

**Q: How to insert data into the table?**
**A**: 
```sql
INSERT INTO url_shortener (original_url, short_code) 
VALUES ('https://example.com/very-long-url', 'abc123');
```

**Q: How to select URLs with more than 100 clicks?**
**A**: 
```sql
SELECT * FROM url_shortener 
WHERE clicks > 100 
ORDER BY clicks DESC;
```

**Q: Explain JOIN operations**
**A**: 
```sql
-- INNER JOIN: Returns matching records from both tables
SELECT u.short_code, u.original_url, a.ip_address
FROM url_shortener u
INNER JOIN analytics a ON u.id = a.url_id;

-- LEFT JOIN: Returns all records from left table and matching from right
SELECT u.short_code, COUNT(a.id) as visit_count
FROM url_shortener u
LEFT JOIN analytics a ON u.id = a.url_id
GROUP BY u.id;
```

---

## 🐘 PostgreSQL

### Key Concepts:

#### 1. **PostgreSQL vs SQLite**
```
SQLite              | PostgreSQL
-------------------|------------------
File-based         | Client-Server
Single user        | Multi-user
Basic features     | Advanced features
No user management | User roles & permissions
```

#### 2. **Important Interview Questions:**

**Q: What are the advantages of PostgreSQL?**
**A**: 
- ACID compliance
- Advanced data types (JSON, arrays, geometric)
- Extensibility
- Robust indexing
- Full-text search
- Geographic objects

**Q: How to create a table with constraints in PostgreSQL?**
**A**: 
```sql
CREATE TABLE url_shortener (
    id SERIAL PRIMARY KEY,
    original_url TEXT NOT NULL CHECK (original_url ~ '^https?://'),
    short_code VARCHAR(10) UNIQUE NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    clicks INTEGER DEFAULT 0 CHECK (clicks >= 0)
);
```

**Q: Explain PostgreSQL's JSON support**
**A**: 
```sql
-- Store JSON data
INSERT INTO url_shortener (original_url, short_code, metadata)
VALUES ('https://example.com', 'abc123', '{"source": "social", "campaign": "summer"}');

-- Query JSON fields
SELECT * FROM url_shortener 
WHERE metadata->>'source' = 'social';
```

---

## 🔴 Redis

### Key Concepts:

#### 1. **What is Redis?**
- **Answer**: Redis is an in-memory data structure store used as a database, cache, and message broker.

#### 2. **Redis Data Types**
```
String    | Key-value pairs
Hash      | Field-value pairs
List      | Ordered collections
Set       | Unordered unique elements
Sorted Set| Ordered sets with scores
```

#### 3. **Important Interview Questions:**

**Q: Why use Redis in a URL shortener?**
**A**: 
- **Caching**: Store frequently accessed URLs
- **Rate limiting**: Track API requests per user
- **Session storage**: User authentication
- **Real-time analytics**: Click tracking

**Q: How to implement caching with Redis?**
**A**: 
```python
import redis

# Connect to Redis
r = redis.Redis(host='localhost', port=6379, db=0)

# Cache a URL
def cache_url(short_code, original_url):
    r.setex(f"url:{short_code}", 3600, original_url)  # Expire in 1 hour

# Get cached URL
def get_cached_url(short_code):
    return r.get(f"url:{short_code}")
```

**Q: Explain Redis persistence options**
**A**: 
- **RDB**: Point-in-time snapshots
- **AOF**: Append-only file logging
- **Hybrid**: Both RDB and AOF

**Q: How to implement rate limiting with Redis?**
**A**: 
```python
def rate_limit(user_id, limit=100, window=3600):
    key = f"rate_limit:{user_id}"
    current = r.incr(key)
    
    if current == 1:
        r.expire(key, window)
    
    return current <= limit
```

---

## 🌐 APIs

### Key Concepts:

#### 1. **What is an API?**
- **Answer**: API (Application Programming Interface) is a set of rules that allows different software applications to communicate with each other.

#### 2. **API Types**
```
REST API     | GraphQL        | gRPC
-------------|----------------|----------------
HTTP methods | Single endpoint| Protocol buffers
JSON/XML     | Query language | High performance
Stateless    | Strong typing  | Bidirectional
```

#### 3. **Important Interview Questions:**

**Q: Explain REST API principles**
**A**: 
- **Stateless**: Each request contains all information needed
- **Client-Server**: Separation of concerns
- **Cacheable**: Responses can be cached
- **Uniform Interface**: Consistent resource identification
- **Layered System**: Hierarchical architecture

**Q: What are HTTP status codes?**
**A**: 
```
2xx Success:
- 200 OK: Request successful
- 201 Created: Resource created
- 204 No Content: Success but no content

4xx Client Errors:
- 400 Bad Request: Invalid request
- 401 Unauthorized: Authentication required
- 404 Not Found: Resource not found
- 429 Too Many Requests: Rate limit exceeded

5xx Server Errors:
- 500 Internal Server Error: Server error
- 502 Bad Gateway: Gateway error
- 503 Service Unavailable: Service down
```

**Q: How to design a URL shortener API?**
**A**: 
```python
# Endpoints
POST /api/urls          # Create short URL
GET  /api/urls/{code}   # Get original URL
GET  /api/urls/{code}/stats  # Get URL statistics
DELETE /api/urls/{code} # Delete URL

# Request/Response examples
POST /api/urls
{
    "original_url": "https://example.com/very-long-url",
    "custom_code": "optional"
}

Response:
{
    "short_code": "abc123",
    "original_url": "https://example.com/very-long-url",
    "short_url": "https://yoursite.com/abc123",
    "created_at": "2024-01-01T00:00:00Z"
}
```

---

## 🐍 Python

### Key Concepts:

#### 1. **Python Fundamentals**
- **Answer**: Python is a high-level, interpreted programming language known for its simplicity and readability.

#### 2. **Important Interview Questions:**

**Q: Explain Python decorators**
**A**: 
```python
def rate_limit(max_requests):
    def decorator(func):
        def wrapper(*args, **kwargs):
            # Rate limiting logic here
            return func(*args, **kwargs)
        return wrapper
    return decorator

@rate_limit(max_requests=100)
def create_short_url(url):
    # URL shortening logic
    pass
```

**Q: What are Python generators?**
**A**: 
```python
def url_generator():
    """Generate unique short codes"""
    import string
    import random
    
    while True:
        code = ''.join(random.choices(string.ascii_letters + string.digits, k=6))
        yield code

# Usage
gen = url_generator()
next(gen)  # Returns random 6-character code
```

**Q: Explain async/await in Python**
**A**: 
```python
import asyncio
import aiohttp

async def fetch_url(url):
    async with aiohttp.ClientSession() as session:
        async with session.get(url) as response:
            return await response.text()

async def main():
    urls = ['https://api1.com', 'https://api2.com']
    tasks = [fetch_url(url) for url in urls]
    results = await asyncio.gather(*tasks)
    return results

# Run async function
asyncio.run(main())
```

**Q: How to handle exceptions in Python?**
**A**: 
```python
def safe_url_shorten(url):
    try:
        # URL shortening logic
        result = create_short_url(url)
        return {"success": True, "data": result}
    except ValueError as e:
        return {"success": False, "error": "Invalid URL format"}
    except Exception as e:
        return {"success": False, "error": "Internal server error"}
    finally:
        # Cleanup code
        pass
```

---

## 🎯 Project-Specific Questions

### Based on Your URL Shortener:

**Q: How did you implement the URL shortening algorithm?**
**A**: 
```python
import hashlib
import base64

def generate_short_code(url):
    # Hash the URL
    hash_object = hashlib.md5(url.encode())
    hash_hex = hash_object.hexdigest()
    
    # Take first 6 characters and encode to base64
    short_hash = hash_hex[:6]
    short_code = base64.urlsafe_b64encode(short_hash.encode()).decode()[:6]
    
    return short_code
```

**Q: How do you handle URL collisions?**
**A**: 
```python
def create_unique_short_code(url):
    base_code = generate_short_code(url)
    counter = 0
    
    while True:
        if counter == 0:
            code = base_code
        else:
            code = f"{base_code}{counter}"
        
        # Check if code exists in database
        if not url_exists(code):
            return code
        
        counter += 1
```

**Q: How do you implement click tracking?**
**A**: 
```python
def track_click(short_code, user_ip, user_agent):
    # Update click count
    db.url_shortener.update_one(
        {"short_code": short_code},
        {"$inc": {"clicks": 1}}
    )
    
    # Store analytics data
    db.analytics.insert_one({
        "short_code": short_code,
        "ip_address": user_ip,
        "user_agent": user_agent,
        "timestamp": datetime.utcnow()
    })
```

---

## ❓ Common Interview Questions

### Technical Questions:

1. **What is the difference between MongoDB and PostgreSQL?**
2. **How do you handle database migrations?**
3. **Explain the CAP theorem**
4. **What is connection pooling?**
5. **How do you implement authentication in APIs?**
6. **What is CORS and how do you handle it?**
7. **Explain the difference between synchronous and asynchronous code**
8. **How do you handle large datasets in Python?**
9. **What is the difference between a list and a tuple in Python?**
10. **How do you implement caching strategies?**

### System Design Questions:

1. **How would you scale your URL shortener to handle millions of requests?**
2. **What if you need to handle 100x more traffic?**
3. **How would you implement URL expiration?**
4. **How would you handle malicious URLs?**
5. **How would you implement analytics and reporting?**

### Behavioral Questions:

1. **Tell me about a challenging problem you solved**
2. **How do you handle conflicting requirements?**
3. **How do you stay updated with technology trends?**
4. **Describe a time you had to learn a new technology quickly**
5. **How do you handle code reviews and feedback?**

---

## 📝 Study Tips

### 1. **Practice Coding**
- Implement the concepts in small projects
- Use platforms like LeetCode, HackerRank
- Build mini-versions of your URL shortener

### 2. **Understand the Why**
- Don't just memorize, understand the reasoning
- Know when to use each technology
- Understand trade-offs and limitations

### 3. **Hands-on Experience**
- Set up local development environments
- Practice with real databases
- Build and deploy small applications

### 4. **Mock Interviews**
- Practice with friends or online platforms
- Record yourself answering questions
- Get feedback on your responses

---

## 🔗 Additional Resources

### MongoDB:
- [MongoDB University](https://university.mongodb.com/)
- [MongoDB Documentation](https://docs.mongodb.com/)

### SQL:
- [SQL Tutorial](https://www.w3schools.com/sql/)
- [SQLite Tutorial](https://www.sqlitetutorial.net/)

### PostgreSQL:
- [PostgreSQL Tutorial](https://www.postgresqltutorial.com/)
- [PostgreSQL Documentation](https://www.postgresql.org/docs/)

### Redis:
- [Redis Documentation](https://redis.io/documentation)
- [Redis University](https://university.redis.com/)

### APIs:
- [REST API Tutorial](https://restfulapi.net/)
- [HTTP Status Codes](https://httpstatuses.com/)

### Python:
- [Python Documentation](https://docs.python.org/)
- [Real Python Tutorials](https://realpython.com/)

---

**Good luck with your interview! Remember to stay calm, think through problems step by step, and don't be afraid to ask clarifying questions.** 🍀
